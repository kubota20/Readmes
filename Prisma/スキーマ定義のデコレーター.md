# スキーマ定義のデコレーター

デコレーターというのは`「@」`で始まるもので、`@id`などのことを言います。

Prismaのデコレーターは`フィールドレベル`のものと`モデルレベル`のものに分かれます。
違いは @の数です。

`フィールドレベル`では`「@」は1つ`付けますが、`モデルレベル`では`「@」を2つ`付けます。

## フィールドレベルの主要デコレーター

| デコレーター | 解説 | メモ |
| :--------: | :--------: | :-------- |
| @id | フィールドを主キーとする | - |
| @unique | フィールドにユニーク制約を適用する | - |
| @default | フィールドのデフォルト値を設定する | 例えば、@default(autoincrement())でIDフィールドが自動的にインクリメントされるように設定できる |
| @updatedAt | フィールドの更新日時を自動的に設定する | - |
| @createdAt | フィールドの作成日時を自動的に設定する | - |
| @map | DBでのフィールド名とPrismaのモデル名が異なる場合にマッピングする | 例えば、DBのフィールド名が「user_id」、Prismaのモデル名が「userId」の場合、@map("user_id")とするとマッピングできる |
| @relation | 2つのモデル間でリレーションを設定できる | 例えば、Userモデルとリレーションを組む場合、@relation(fields: [userId], references: [id], onDelete: Cascade) と、fieldsに参照されるモデルのフィールド(基本的にはID、この例の場合、PostモデルのuserId)を、referencesに参照先のモデルのフィールド（基本的にはID、この例の場合、Userモデルのid）を設定する。また、オプションとして、onDelete:Cascadeとすることで、親テーブルの関連データが削除されると、子テーブルの関連するデータも削除することができる |
| @db | DBの特定の方にマップするために使用する | - |


## モデルレベルの主要デコレーター

| デコレーター | 解説 | メモ |
| :--------: | :--------: | :-------- |
| @@id | 複数のフィールドを主キーに設定する | - |
| @@unique | 複数のフィールドに対してユニーク制約を設定 | - |
| @@index | フィールドのデフォルト値を設定する | - |
| @@map | DBのテーブル名とPrismaモデル名がことなる場合に使用する | 例えば、PrismaモデルUserでテーブル名がusersの場合、@@map("users")とすることでマッピングできる |
| @@ignore | Prisma Clientから特定のモデルを除外する | - |

